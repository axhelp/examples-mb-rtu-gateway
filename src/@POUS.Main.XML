<project xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.kw-software.com/xml/PLCopen/TC6_XML_V10_KW.xsd">
	<fileHeader companyName="Phoenix Contact" companyURL="https://www.phoenixcontact-software.com" productName="PC WORX" productVersion="6.30" productRelease="Build 500" creationDateTime="2019-03-02T20:06:51" contentDescription="###XMLINFO=2;1;"/>
	<contentHeader name="examples-mb-rtu-gateway" version="1551944990" modificationDateTime="2019-03-07T10:49:50" connectionCheck="true">
		<coordinateInfo>
			<pageSize x="999" y="9999"/>
			<fbd>
				<scaling x="2" y="2"/>
			</fbd>
			<ld>
				<scaling x="2" y="2"/>
			</ld>
			<sfc>
				<scaling x="2" y="2"/>
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes/>
		<pous>
			<pou name="Main" pouType="program" lastChange="2019-03-07T10:49:49">
				<interface>
					<localVars retain="false">
						<variable name="MB_IL_UNI07_Master" group="Master">
							<type>
								<derived name="MB_IL_UNI07_Master_3"/>
							</type>
						</variable>
						<variable name="xActiveMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xReadyMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xActivateMaster" group="Master">
							<type>
								<BOOL/>
							</type>
							<initialValue>
								<simpleValue value="TRUE"/>
							</initialValue>
						</variable>
						<variable name="xResetMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="MB_RTU_FC3" group="Master">
							<type>
								<derived name="MB_RTU_FC3_3"/>
							</type>
						</variable>
						<variable name="xSendRequest" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="iDataCount" group="Master">
							<type>
								<INT/>
							</type>
							<initialValue>
								<simpleValue value="1"/>
							</initialValue>
						</variable>
						<variable name="uiStartAddress" group="Master">
							<type>
								<UINT/>
							</type>
							<initialValue>
								<simpleValue value="UINT#6"/>
							</initialValue>
						</variable>
						<variable name="xEnablePoll" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="arrReadData" group="Master">
							<type>
								<derived name="arrModbus2_W_1_125"/>
							</type>
						</variable>
						<variable name="udtMbDataMaster" group="Master">
							<type>
								<derived name="udtModbus2_Data"/>
							</type>
						</variable>
						<variable name="arrInputAddressMaster" group="Master">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="arrOutputAddressMaster" group="Master">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
					</localVars>
					<externalVars retain="false">
						<variable name="RTC_SECONDS" group="Master">
							<type>
								<INT/>
							</type>
							<documentation>
								<html xmlns="http://www.w3.org/1999/xhtml">
									<p xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">System time (seconds)</p>
								</html>
							</documentation>
						</variable>
					</externalVars>
					<localVars retain="false">
						<variable name="ModbusRTUGateway" group="Master">
							<type>
								<derived name="ModbusRTUGateway"/>
							</type>
						</variable>
						<variable name="MB_IL_UNI07_Slave" group="Slave">
							<type>
								<derived name="MB_IL_UNI07_Slave_2"/>
							</type>
						</variable>
						<variable name="xActivateSlave" group="Slave">
							<type>
								<BOOL/>
							</type>
							<initialValue>
								<simpleValue value="TRUE"/>
							</initialValue>
						</variable>
						<variable name="uiSlaveAddress" group="Slave">
							<type>
								<UINT/>
							</type>
							<initialValue>
								<simpleValue value="UINT#1"/>
							</initialValue>
						</variable>
						<variable name="udtHoldingRegisters" group="Slave">
							<type>
								<derived name="arrModbus2_w_0_1999"/>
							</type>
						</variable>
						<variable name="udtInputRegisters" group="Slave">
							<type>
								<derived name="arrModbus2_w_2000_2999"/>
							</type>
						</variable>
						<variable name="udtOutputBits" group="Slave">
							<type>
								<derived name="arrModbus2_x_3000_3999"/>
							</type>
						</variable>
						<variable name="udtInputBits" group="Slave">
							<type>
								<derived name="arrModbus2_x_4000_4999"/>
							</type>
						</variable>
						<variable name="arrInputAddressSlave" group="Slave">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="arrOutputAddressSlave" group="Slave">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="udtRS485Line" group="Mock">
							<type>
								<derived name="udtRS485Frame"/>
							</type>
						</variable>
						<variable name="xDebug" group="Mock">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="IB_IL_RS_UNI_07_Master" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
						<variable name="IB_IL_RS_UNI_07_Slave" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
					</localVars>
				</interface>
				<body>
					<FBD>
						<worksheet name="Main" SizeX="400" SizeY="1400">
							<block width="35" height="60" typeName="MB_IL_UNI07_Master_3" instanceName="MB_IL_UNI07_Master" localId="23">
								<position x="83" y="66"/>
								<inputVariables>
									<variable formalParameter="xActivate" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="82"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="bSelectMode" dataType="BYTE" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="84"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="diBaudrate" dataType="DINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="12"/>
											<connection refLocalId="85"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="wDataWidth" dataType="WORD" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="16"/>
											<connection refLocalId="86"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xDTR_Control" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xDTR" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="24"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="tTimeout" dataType="TIME" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="28"/>
											<connection refLocalId="87"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xReset" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="32"/>
											<connection refLocalId="88"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="udtMBData" dataType="udtModbus2_Data">
										<connectionPointIn>
											<relPosition x="-2" y="48"/>
											<connection refLocalId="99"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="48"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrInputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="52"/>
											<connection refLocalId="100"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="52"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrOutputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="56"/>
											<connection refLocalId="101"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="56"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables>
									<variable formalParameter="xActive" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="4"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xBusy" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="8"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xReady" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="uiRequestsCounter" dataType="UINT" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="16"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="uiResponsesCounter" dataType="UINT" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="20"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtAddData" dataType="MB2_RSUNI_UDT_DATA_V1" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="24"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xError" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="28"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="32"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wAddDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="36"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtDiag" dataType="MB_UDT_IL_UNI_MASTER_DIAG" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="40"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="iState" dataType="INT" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="44"/>
										</connectionPointOut>
									</variable>
								</outputVariables>
							</block>
							<block width="35" height="64" typeName="MB_IL_UNI07_Slave_2" instanceName="MB_IL_UNI07_Slave" localId="49">
								<position x="86" y="275"/>
								<inputVariables>
									<variable formalParameter="xActivate" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="83"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="bSelectMode" dataType="BYTE" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="89"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="diBaudrate" dataType="DINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="12"/>
											<connection refLocalId="90"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="wDataWidth" dataType="WORD" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="16"/>
											<connection refLocalId="91"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xDTR_Control" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xDTR" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="24"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="uiSlaveAddress" dataType="UINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="28"/>
											<connection refLocalId="92"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="uiOffset" dataType="UINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="32"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xReset" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="36"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="udtHoldingRegisters" dataType="arrModbus2_w_0_1999">
										<connectionPointIn>
											<relPosition x="-2" y="40"/>
											<connection refLocalId="93"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="40"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtInputRegisters" dataType="arrModbus2_w_2000_2999">
										<connectionPointIn>
											<relPosition x="-2" y="44"/>
											<connection refLocalId="94"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="44"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtOutputBits" dataType="arrModbus2_x_3000_3999">
										<connectionPointIn>
											<relPosition x="-2" y="48"/>
											<connection refLocalId="95"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="48"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtInputBits" dataType="arrModbus2_x_4000_4999">
										<connectionPointIn>
											<relPosition x="-2" y="52"/>
											<connection refLocalId="96"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="52"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrInputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="56"/>
											<connection refLocalId="97"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="56"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrOutputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="60"/>
											<connection refLocalId="98"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="39" y="60"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables>
									<variable formalParameter="xActive" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="4"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xBusy" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="8"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xReady" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="uiNoOfTransactions" dataType="UINT" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="16"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtAddData" dataType="MB2_RSUNI_UDT_DATA_V1" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="20"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xError" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="24"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="28"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wAddDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="32"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtDiag" dataType="MB_UDT_IL_UNI_SLAVE_DIAG" hideable="true">
										<connectionPointOut>
											<relPosition x="37" y="36"/>
										</connectionPointOut>
									</variable>
								</outputVariables>
							</block>
							<block width="27" height="40" typeName="MB_RTU_FC3_3" instanceName="MB_RTU_FC3" localId="67">
								<position x="83" y="131"/>
								<inputVariables>
									<variable formalParameter="xActivate" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="117"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xSendRequest" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="110"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="xEnablePoll" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="12"/>
											<connection refLocalId="116"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="tPollInterval" dataType="TIME" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="16"/>
											<connection refLocalId="118"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="uiSlaveAddress" dataType="UINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
											<connection refLocalId="115"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="uiStartAddress" dataType="UINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="24"/>
											<connection refLocalId="114"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="iDataCount" dataType="INT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="28"/>
											<connection refLocalId="113"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="arrReadData" dataType="arrModbus2_W_1_125">
										<connectionPointIn>
											<relPosition x="-2" y="32"/>
											<connection refLocalId="112"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="31" y="32"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtMbData" dataType="udtModbus2_Data">
										<connectionPointIn>
											<relPosition x="-2" y="36"/>
											<connection refLocalId="111"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="31" y="36"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables>
									<variable formalParameter="xActive" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="4"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xBusy" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="8"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xDone" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xError" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="16"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="20"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="wAddDiagCode" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="24"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="udtDiag" dataType="MB_UDT_RTU_FC_DIAG" hideable="true">
										<connectionPointOut>
											<relPosition x="29" y="28"/>
										</connectionPointOut>
									</variable>
								</outputVariables>
							</block>
							<block width="33" height="24" typeName="IL_UNI07" instanceName="IB_IL_RS_UNI_07_Master" localId="74">
								<position x="85" y="196"/>
								<inputVariables>
									<variable formalParameter="xConsoleLog" dataType="INT" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="119"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="strConsoleId" dataType="STRING" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="102"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="udtRS485Line" dataType="udtRS485Frame">
										<connectionPointIn>
											<relPosition x="-2" y="12"/>
											<connection refLocalId="105"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrInputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="16"/>
											<connection refLocalId="104"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="16"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrOutputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
											<connection refLocalId="103"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="20"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables/>
							</block>
							<block width="33" height="24" typeName="IL_UNI07" instanceName="IB_IL_RS_UNI_07_Slave" localId="81">
								<position x="85" y="226"/>
								<inputVariables>
									<variable formalParameter="xConsoleLog" dataType="INT" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="120"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="strConsoleId" dataType="STRING" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="106"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="udtRS485Line" dataType="udtRS485Frame">
										<connectionPointIn>
											<relPosition x="-2" y="12"/>
											<connection refLocalId="109"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrInputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="16"/>
											<connection refLocalId="108"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="16"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="arrOutputAddress" dataType="MB2_RSUNI_ARR_B_1_14">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
											<connection refLocalId="107"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="37" y="20"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables/>
							</block>
							<inVariable localId="82" width="16" height="2">
								<position x="65" y="69"/>
								<connectionPointOut>
									<relPosition x="16" y="1"/>
								</connectionPointOut>
								<expression>xActivateMaster</expression>
							</inVariable>
							<inVariable localId="83" width="15" height="2">
								<position x="69" y="278"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>xActivateSlave</expression>
							</inVariable>
							<inVariable localId="84" width="11" height="2">
								<position x="70" y="73"/>
								<connectionPointOut>
									<relPosition x="11" y="1"/>
								</connectionPointOut>
								<expression>BYTE#01</expression>
							</inVariable>
							<inVariable localId="85" width="13" height="2">
								<position x="68" y="77"/>
								<connectionPointOut>
									<relPosition x="13" y="1"/>
								</connectionPointOut>
								<expression>DINT#9600</expression>
							</inVariable>
							<inVariable localId="86" width="11" height="2">
								<position x="70" y="81"/>
								<connectionPointOut>
									<relPosition x="11" y="1"/>
								</connectionPointOut>
								<expression>WORD#4</expression>
							</inVariable>
							<inVariable localId="87" width="8" height="2">
								<position x="73" y="93"/>
								<connectionPointOut>
									<relPosition x="8" y="1"/>
								</connectionPointOut>
								<expression>t#30s</expression>
							</inVariable>
							<inVariable localId="88" width="14" height="2">
								<position x="67" y="97"/>
								<connectionPointOut>
									<relPosition x="14" y="1"/>
								</connectionPointOut>
								<expression>xResetMaster</expression>
							</inVariable>
							<inVariable localId="89" width="11" height="2">
								<position x="73" y="282"/>
								<connectionPointOut>
									<relPosition x="11" y="1"/>
								</connectionPointOut>
								<expression>BYTE#01</expression>
							</inVariable>
							<inVariable localId="90" width="13" height="2">
								<position x="71" y="286"/>
								<connectionPointOut>
									<relPosition x="13" y="1"/>
								</connectionPointOut>
								<expression>DINT#9600</expression>
							</inVariable>
							<inVariable localId="91" width="11" height="2">
								<position x="73" y="290"/>
								<connectionPointOut>
									<relPosition x="11" y="1"/>
								</connectionPointOut>
								<expression>WORD#4</expression>
							</inVariable>
							<inVariable localId="92" width="15" height="2">
								<position x="69" y="302"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>uiSlaveAddress</expression>
							</inVariable>
							<inVariable localId="93" width="19" height="2">
								<position x="65" y="314"/>
								<connectionPointOut>
									<relPosition x="19" y="1"/>
								</connectionPointOut>
								<expression>udtHoldingRegisters</expression>
							</inVariable>
							<inVariable localId="94" width="17" height="2">
								<position x="67" y="318"/>
								<connectionPointOut>
									<relPosition x="17" y="1"/>
								</connectionPointOut>
								<expression>udtInputRegisters</expression>
							</inVariable>
							<inVariable localId="95" width="14" height="2">
								<position x="70" y="322"/>
								<connectionPointOut>
									<relPosition x="14" y="1"/>
								</connectionPointOut>
								<expression>udtOutputBits</expression>
							</inVariable>
							<inVariable localId="96" width="13" height="2">
								<position x="71" y="326"/>
								<connectionPointOut>
									<relPosition x="13" y="1"/>
								</connectionPointOut>
								<expression>udtInputBits</expression>
							</inVariable>
							<inVariable localId="97" width="20" height="2">
								<position x="64" y="330"/>
								<connectionPointOut>
									<relPosition x="20" y="1"/>
								</connectionPointOut>
								<expression>arrInputAddressSlave</expression>
							</inVariable>
							<inVariable localId="98" width="22" height="2">
								<position x="62" y="334"/>
								<connectionPointOut>
									<relPosition x="22" y="1"/>
								</connectionPointOut>
								<expression>arrOutputAddressSlave</expression>
							</inVariable>
							<inVariable localId="99" width="18" height="2">
								<position x="63" y="113"/>
								<connectionPointOut>
									<relPosition x="18" y="1"/>
								</connectionPointOut>
								<expression>udtMbDataMaster</expression>
							</inVariable>
							<inVariable localId="100" width="22" height="2">
								<position x="59" y="117"/>
								<connectionPointOut>
									<relPosition x="22" y="1"/>
								</connectionPointOut>
								<expression>arrInputAddressMaster</expression>
							</inVariable>
							<inVariable localId="101" width="23" height="2">
								<position x="58" y="121"/>
								<connectionPointOut>
									<relPosition x="23" y="1"/>
								</connectionPointOut>
								<expression>arrOutputAddressMaster</expression>
							</inVariable>
							<inVariable localId="102" width="7" height="2">
								<position x="76" y="203"/>
								<connectionPointOut>
									<relPosition x="7" y="1"/>
								</connectionPointOut>
								<expression>'MAS'</expression>
							</inVariable>
							<inVariable localId="103" width="22" height="2">
								<position x="61" y="215"/>
								<connectionPointOut>
									<relPosition x="22" y="1"/>
								</connectionPointOut>
								<expression>arrInputAddressMaster</expression>
							</inVariable>
							<inVariable localId="104" width="23" height="2">
								<position x="60" y="211"/>
								<connectionPointOut>
									<relPosition x="23" y="1"/>
								</connectionPointOut>
								<expression>arrOutputAddressMaster</expression>
							</inVariable>
							<inVariable localId="105" width="14" height="2">
								<position x="69" y="207"/>
								<connectionPointOut>
									<relPosition x="14" y="1"/>
								</connectionPointOut>
								<expression>udtRS485Line</expression>
							</inVariable>
							<inVariable localId="106" width="7" height="2">
								<position x="76" y="233"/>
								<connectionPointOut>
									<relPosition x="7" y="1"/>
								</connectionPointOut>
								<expression>'SLV'</expression>
							</inVariable>
							<inVariable localId="107" width="20" height="2">
								<position x="63" y="245"/>
								<connectionPointOut>
									<relPosition x="20" y="1"/>
								</connectionPointOut>
								<expression>arrInputAddressSlave</expression>
							</inVariable>
							<inVariable localId="108" width="22" height="2">
								<position x="61" y="241"/>
								<connectionPointOut>
									<relPosition x="22" y="1"/>
								</connectionPointOut>
								<expression>arrOutputAddressSlave</expression>
							</inVariable>
							<inVariable localId="109" width="14" height="2">
								<position x="69" y="237"/>
								<connectionPointOut>
									<relPosition x="14" y="1"/>
								</connectionPointOut>
								<expression>udtRS485Line</expression>
							</inVariable>
							<inVariable localId="110" width="15" height="2">
								<position x="66" y="138"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>xSendRequest</expression>
							</inVariable>
							<inVariable localId="111" width="18" height="2">
								<position x="63" y="166"/>
								<connectionPointOut>
									<relPosition x="18" y="1"/>
								</connectionPointOut>
								<expression>udtMbDataMaster</expression>
							</inVariable>
							<inVariable localId="112" width="13" height="2">
								<position x="68" y="162"/>
								<connectionPointOut>
									<relPosition x="13" y="1"/>
								</connectionPointOut>
								<expression>arrReadData</expression>
							</inVariable>
							<inVariable localId="113" width="12" height="2">
								<position x="69" y="158"/>
								<connectionPointOut>
									<relPosition x="12" y="1"/>
								</connectionPointOut>
								<expression>iDataCount</expression>
							</inVariable>
							<inVariable localId="114" width="15" height="2">
								<position x="66" y="154"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>uiStartAddress</expression>
							</inVariable>
							<inVariable localId="115" width="15" height="2">
								<position x="66" y="150"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>uiSlaveAddress</expression>
							</inVariable>
							<inVariable localId="116" width="12" height="2">
								<position x="69" y="142"/>
								<connectionPointOut>
									<relPosition x="12" y="1"/>
								</connectionPointOut>
								<expression>xEnablePoll</expression>
							</inVariable>
							<inVariable localId="117" width="15" height="2">
								<position x="66" y="134"/>
								<connectionPointOut>
									<relPosition x="15" y="1"/>
								</connectionPointOut>
								<expression>xActiveMaster</expression>
							</inVariable>
							<inVariable localId="118" width="11" height="2">
								<position x="70" y="146"/>
								<connectionPointOut>
									<relPosition x="11" y="1"/>
								</connectionPointOut>
								<expression>t#200ms</expression>
							</inVariable>
							<inVariable localId="119" width="9" height="2">
								<position x="74" y="199"/>
								<connectionPointOut>
									<relPosition x="9" y="1"/>
								</connectionPointOut>
								<expression>xDebug</expression>
							</inVariable>
							<inVariable localId="120" width="9" height="2">
								<position x="74" y="229"/>
								<connectionPointOut>
									<relPosition x="9" y="1"/>
								</connectionPointOut>
								<expression>xDebug</expression>
							</inVariable>
							<outVariable localId="121" width="19" height="2">
								<position x="123" y="314"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="udtHoldingRegisters"/>
								</connectionPointIn>
								<expression>udtHoldingRegisters</expression>
							</outVariable>
							<outVariable localId="122" width="17" height="2">
								<position x="123" y="318"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="udtInputRegisters"/>
								</connectionPointIn>
								<expression>udtInputRegisters</expression>
							</outVariable>
							<outVariable localId="123" width="14" height="2">
								<position x="123" y="322"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="udtOutputBits"/>
								</connectionPointIn>
								<expression>udtOutputBits</expression>
							</outVariable>
							<outVariable localId="124" width="13" height="2">
								<position x="123" y="326"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="udtInputBits"/>
								</connectionPointIn>
								<expression>udtInputBits</expression>
							</outVariable>
							<outVariable localId="125" width="20" height="2">
								<position x="123" y="330"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="arrInputAddress"/>
								</connectionPointIn>
								<expression>arrInputAddressSlave</expression>
							</outVariable>
							<outVariable localId="126" width="22" height="2">
								<position x="123" y="334"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="49" formalParameter="arrOutputAddress"/>
								</connectionPointIn>
								<expression>arrOutputAddressSlave</expression>
							</outVariable>
							<outVariable localId="127" width="18" height="2">
								<position x="120" y="113"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="23" formalParameter="udtMBData"/>
								</connectionPointIn>
								<expression>udtMbDataMaster</expression>
							</outVariable>
							<outVariable localId="128" width="22" height="2">
								<position x="120" y="117"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="23" formalParameter="arrInputAddress"/>
								</connectionPointIn>
								<expression>arrInputAddressMaster</expression>
							</outVariable>
							<outVariable localId="129" width="23" height="2">
								<position x="120" y="121"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="23" formalParameter="arrOutputAddress"/>
								</connectionPointIn>
								<expression>arrOutputAddressMaster</expression>
							</outVariable>
							<outVariable localId="130" width="22" height="2">
								<position x="120" y="215"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="74" formalParameter="arrOutputAddress"/>
								</connectionPointIn>
								<expression>arrInputAddressMaster</expression>
							</outVariable>
							<outVariable localId="131" width="23" height="2">
								<position x="120" y="211"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="74" formalParameter="arrInputAddress"/>
								</connectionPointIn>
								<expression>arrOutputAddressMaster</expression>
							</outVariable>
							<outVariable localId="132" width="14" height="2">
								<position x="120" y="207"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="74" formalParameter="udtRS485Line"/>
								</connectionPointIn>
								<expression>udtRS485Line</expression>
							</outVariable>
							<outVariable localId="133" width="20" height="2">
								<position x="120" y="245"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="81" formalParameter="arrOutputAddress"/>
								</connectionPointIn>
								<expression>arrInputAddressSlave</expression>
							</outVariable>
							<outVariable localId="134" width="22" height="2">
								<position x="120" y="241"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="81" formalParameter="arrInputAddress"/>
								</connectionPointIn>
								<expression>arrOutputAddressSlave</expression>
							</outVariable>
							<outVariable localId="135" width="14" height="2">
								<position x="120" y="237"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="81" formalParameter="udtRS485Line"/>
								</connectionPointIn>
								<expression>udtRS485Line</expression>
							</outVariable>
							<outVariable localId="136" width="15" height="2">
								<position x="120" y="69"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="23" formalParameter="xActive"/>
								</connectionPointIn>
								<expression>xActiveMaster</expression>
							</outVariable>
							<outVariable localId="137" width="15" height="2">
								<position x="120" y="77"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="23" formalParameter="xReady"/>
								</connectionPointIn>
								<expression>xReadyMaster</expression>
							</outVariable>
							<outVariable localId="138" width="18" height="2">
								<position x="112" y="166"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="67" formalParameter="udtMbData"/>
								</connectionPointIn>
								<expression>udtMbDataMaster</expression>
							</outVariable>
							<outVariable localId="139" width="13" height="2">
								<position x="112" y="162"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="67" formalParameter="arrReadData"/>
								</connectionPointIn>
								<expression>arrReadData</expression>
							</outVariable>
							<inVariable localId="140" width="8" height="2">
								<position x="72" y="19"/>
								<connectionPointOut>
									<relPosition x="8" y="1"/>
								</connectionPointOut>
								<expression>TRUE</expression>
							</inVariable>
							<inVariable localId="141" width="12" height="2">
								<position x="68" y="23"/>
								<connectionPointOut>
									<relPosition x="12" y="1"/>
								</connectionPointOut>
								<expression>UINT#502</expression>
							</inVariable>
							<inVariable localId="142" width="18" height="2">
								<position x="62" y="35"/>
								<connectionPointOut>
									<relPosition x="18" y="1"/>
								</connectionPointOut>
								<expression>udtMbDataMaster</expression>
							</inVariable>
							<outVariable localId="143" width="18" height="2">
								<position x="112" y="35"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="157" formalParameter="udtMbData">
										<position x="112" y="36" pathnode="false"/>
										<position x="105" y="36" pathnode="false"/>
									</connection>
								</connectionPointIn>
								<expression>udtMbDataMaster</expression>
							</outVariable>
							<outVariable localId="144" width="21" height="2">
								<position x="124" y="348"/>
								<connectionPointIn>
									<relPosition x="0" y="1"/>
									<connection refLocalId="147" formalParameter="INT_TO_WORD">
										<position x="124" y="349" pathnode="false"/>
										<position x="103" y="349" pathnode="false"/>
									</connection>
								</connectionPointIn>
								<expression>udtHoldingRegisters[1]</expression>
							</outVariable>
							<block width="15" height="8" typeName="INT_TO_WORD" localId="147">
								<position x="86" y="345"/>
								<inputVariables>
									<variable formalParameter="IN1" hidden="true" dataType="INT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="148"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables/>
								<outputVariables>
									<variable formalParameter="INT_TO_WORD" hidden="true" dataType="WORD" hideable="true">
										<connectionPointOut>
											<relPosition x="17" y="4"/>
										</connectionPointOut>
									</variable>
								</outputVariables>
							</block>
							<inVariable localId="148" width="16" height="2">
								<position x="68" y="348"/>
								<connectionPointOut>
									<relPosition x="16" y="1"/>
								</connectionPointOut>
								<expression>RTC_SECONDS</expression>
							</inVariable>
							<block width="21" height="24" typeName="ModbusRTUGateway" instanceName="ModbusRTUGateway" localId="157">
								<position x="82" y="16"/>
								<inputVariables>
									<variable formalParameter="xActivate" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="4"/>
											<connection refLocalId="140"/>
										</connectionPointIn>
									</variable>
									<variable formalParameter="uiPort" dataType="UINT" hideable="true">
										<connectionPointIn>
											<relPosition x="-2" y="8"/>
											<connection refLocalId="141"/>
										</connectionPointIn>
									</variable>
								</inputVariables>
								<inOutVariables>
									<variable formalParameter="udtMbData" dataType="udtModbus2_Data">
										<connectionPointIn>
											<relPosition x="-2" y="20"/>
											<connection refLocalId="142"/>
										</connectionPointIn>
										<connectionPointOut>
											<relPosition x="25" y="20"/>
										</connectionPointOut>
									</variable>
								</inOutVariables>
								<outputVariables>
									<variable formalParameter="xValid" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="23" y="4"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="xError" dataType="BOOL" invertable="true" hideable="true">
										<connectionPointOut>
											<relPosition x="23" y="8"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="uiSndCount" dataType="UINT" hideable="true">
										<connectionPointOut>
											<relPosition x="23" y="12"/>
										</connectionPointOut>
									</variable>
									<variable formalParameter="uiRcvCount" dataType="UINT" hideable="true">
										<connectionPointOut>
											<relPosition x="23" y="16"/>
										</connectionPointOut>
									</variable>
								</outputVariables>
							</block>
							<comment localId="159" width="64" height="6">
								<position x="81" y="6"/>
								<content>
									<html xmlns="http://www.w3.org/1999/xhtml">
										<p xml:space="preserve" style="color:#000000;background:#FFFFFF;font-weight:normal;font-style:normal;normal;font-family:Tahoma;width:0px; height:226px; font-size:13.50em" xmlns="http://www.w3.org/1999/xhtml">Gateway function block transmits requests from Modbus TCP client to <br/>MB_Master function block using udtMbData structure</p>
									</html>
								</content>
							</comment>
							<comment localId="160" width="46" height="3">
								<position x="85" y="187"/>
								<content>
									<html xmlns="http://www.w3.org/1999/xhtml">
										<p xml:space="preserve" style="color:#000000;background:#FFFFFF;font-weight:normal;font-style:normal;normal;font-family:Tahoma;width:0px; height:226px; font-size:13.50em" xmlns="http://www.w3.org/1999/xhtml">IB IL RS UNI Master/Slave software replacement</p>
									</html>
								</content>
							</comment>
							<comment localId="161" width="54" height="6">
								<position x="83" y="53"/>
								<content>
									<html xmlns="http://www.w3.org/1999/xhtml">
										<p xml:space="preserve" style="color:#000000;background:#FFFFFF;font-weight:normal;font-style:normal;normal;font-family:Tahoma;width:0px; height:226px; font-size:13.50em" xmlns="http://www.w3.org/1999/xhtml">MB_Master function block sends request to serial interface <br/>(or software replacement for serial interface)</p>
									</html>
								</content>
							</comment>
							<comment localId="162" width="58" height="6">
								<position x="85" y="263"/>
								<content>
									<html xmlns="http://www.w3.org/1999/xhtml">
										<p xml:space="preserve" style="color:#000000;background:#FFFFFF;font-weight:normal;font-style:normal;normal;font-family:Tahoma;width:0px; height:226px; font-size:13.50em" xmlns="http://www.w3.org/1999/xhtml">MB_Slave function block receieves requests from serial interface <br/>(or software replacement for serial interface)</p>
									</html>
								</content>
							</comment>
						</worksheet>
					</FBD>
				</body>
				<documentation>
					<html xmlns="http://www.w3.org/1999/xhtml">
						<div xml:space="preserve" id="MWTDESCRIPTION" wsName="MainT" xmlns="http://www.w3.org/1999/xhtml"/>
					</html>
				</documentation>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations/>
	</instances>
</project>